# [2024_06_07]

## 오늘 공부 내용
오늘은 메인 프로젝트의 주제 선정 및 DB설계전에 정규화와 반정규화에 대해 자세하게 알아보았다.

## [SQL] 정규화와 반정규화

### 정규화란?

- 데이터의 일관성, 최소한의 데이터 중복, 최소한의 데이터 유연성을 보다 효율적으로 사용하기 위해 데이터를 분해하는 과정이다.
- 테이블을 정규화를 통해 분해하였을 때 원하는 테이블끼리 조인(join)관계를 통해 하나의 합집합(연결)을 시킬 수 있다.
- 결정적으로 정규화를 통해 **중복되는 데이터(Column)을 제거한다는 장점**이 있다.

### 정규화 절차

1. 제1정규화
    - 속성의 원자성을 확보 및 **중복값을 제거**한다. 또한 **기본키를 설정**
2. 제2정규화
    - **기본키가 2개 이상**일 경우 부분 함수 종속성을 **분해**한다.
    - 복합 객체(인스턴스)에 대해 각 종속적 중복을 삭제한다.
3. 제3정규화
    - 기본키를 제외한 칼럼 간에 종속성을 제거한다.
    - 일반 속성의 종속성을 제거한다.
4. BCNF
    - 기본키를 제외하고 후보키가 있는 경우, 후보키가 기본키를 종속시킬 경우 분해한다.
    - 이때 여러개의 후보키가 있고, 후보키간에 복합 속성 및 서로 중첩이어야한다.
5. 제4정규화
    - 여러 칼럼들이 하나의 칼럼을 종속시킬 경우 분해하여 다중값 종속성을 제거한다.
    - 다치 종속성을 제거한다.
6. 제5정규화
    - 조인에 의해 종속성이 발생되는 경우 분해한다.

이러한 정규화 과정들을 통해 데이터 조회 시 join문을 여러개 사용하게 되면 CPU와 메모리를 많이 사용하게 되므로 **상당한 부담을 줄 수 있다.**

이러한 문제를 반정규화를 통해 해결할 수 있다.

### 반정규화란?

- CPU와 메모리의 성능 부하를 막기 위해 데이터의 중복을 허용하고 join을 줄이는 방법이다.
- **반정규화는 조회속도를 향상시키지만 데이터간의 유연성은 떨어지게 된다.**

즉, 반정규화를 사용하면 CPU와 메모리에 성능저하를 막을 수 있지만 데이터를 중복시키는 또 다른 문제점이 발생하게 된다.

### 반정규화 절차

1. 대상 조사 및 검토 : 데이터의 처리 범위나 효율을 파악하여 반정규화 적용 칼럼을 찾는다.
2. 다른 방법 검토 : 반정규화를 수행하기 전에 다른 방법이 있는지 확인한다.
3. 반정규화 수행 : 다른 방법이 없다면 반정규화를 적용한다.

### 반정규화 사용할 때

- 정규화에 충실하여 종속성, 활용성은 향상 되었지만 수행속도가 느려진 경우
- 많은 양의 데이터를 처리해야할 경우
- 특정 범위의 데이터가 필요할 경우

### 정리
정규화:

장점: 데이터의 중복을 방지

단점: CPU와 메모리의 과도한 사용으로 성능 저하 가능

반정규화:

장점: 조회 속도 향상

단점: 중복되는 칼럼이 많아져 유연성이 떨어짐